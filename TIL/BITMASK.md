# 비트와 비트마스킹 정리

## 0. 비트(bit)
- **비트(binary digit)**: 데이터를 나타내는 최소 단위.  
  모든 데이터는 0과 1의 조합(이진수)으로 표현됨.  
  1개의 비트는 두 가지(0, 1) 상태를 가질 수 있고, n비트 정수형 변수는 `2^0 ~ 2^(n-1)`을 표현할 수 있음.

---

## 1. 비트 연산자
- **AND (&):** 대응하는 두 비트가 모두 1일 때 1  
- **OR (|):** 대응하는 두 비트 중 하나라도 1이면 1  
- **XOR (^):** 대응하는 두 비트가 다르면 1  
- **NOT (~):** 비트의 값을 반전  
- **Shift (<<, >>):** 비트를 왼쪽 또는 오른쪽으로 이동

> **주의:**  
> Java의 int 자료형은 32비트. 첫 비트는 부호를 나타내므로 -2^31 ~ 2^31-1 범위를 가짐.  
> char는 16비트 부호 없는 자료형으로 bitmask에서 자주 활용됨.

---

## 1.1. 비트마스킹(bitmask)
- **비트마스킹:**  
  정수의 이진수 표현을 자료구조로 사용하는 기법.  
  각 비트(0/1)가 true/false, on/off 등 상태를 나타냄.

### 장점
1. **빠른 수행시간:** 대부분 O(1)에 동작
2. **간결한 코드:** 집합 연산을 한 줄로 표현 가능
3. **작은 메모리 사용량:** 캐시 효율 증가
4. **연관 배열을 배열로 대체:** 예시 - `Map<Vector, int>` → `int[]`로 변환 가능

---

## 1.2. 용어 정의
- **비트(bit):** 0과 1로 나타내는 이진수의 한 자리
- **부호 없는 N비트 값:** 0 ~ 2^N-1
- **최하위 비트(LSB):** 2^0에 위치한 비트
- **최상위 비트(MSB):** 2^(N-1)에 위치한 비트
- **비트가 켜져있다:** 1  
- **비트가 꺼져있다:** 0

---

## 2. 비트마스크를 이용한 집합 구현
비트마스크로 집합을 표현할 수 있음.  
N비트 → N개의 원소 집합의 모든 부분집합 표현 가능.

### 2.1. 공집합과 꽉 찬 집합 구하기
```java
int A = 0; // 공집합 (모든 비트 꺼짐)
A = (1 << 10) - 1; // 10개의 비트가 모두 켜진 상태 (꽉 찬 집합)
```

### 2.2. 원소 추가
```java
A |= (1 << k); // k번째 원소 추가 (k번째 비트를 1로 만듦)
```

### 2.3. 원소 삭제
```java
A &= ~(1 << k); // k번째 원소 삭제 (k번째 비트를 0으로 만듦)
```

### 2.4. 원소의 포함 여부 확인
```java
if((A & (1 << k)) == (1 << k)) // k번째 원소 포함 여부 확인
```

### 2.5. 원소의 토글(반전)
```java
A ^= (1 << k); // k번째 원소가 있으면 삭제, 없으면 추가
```

### 2.6. 두 집합 연산
```java
A | B    // 합집합
A & B    // 교집합
A & (~B) // 차집합
A ^ B    // 두 집합 중 하나에만 포함된 원소들
```

### 2.7. 집합의 크기(원소 개수) 구하기
```java
// 재귀 방식
int bitCount(int A){
  if(A == 0) return 0;
  return A % 2 + bitCount(A / 2);
}
// 내장 함수
Integer.bitCount(A);
```

### 2.8. 최소 원소 찾기
```java
int first = A & (-A); // 가장 오른쪽에 켜진 비트만 남김
```
> 예시:  
> A = 1010  
> -A = 0110  
> A & -A = 0010

### 2.9. 최소 원소 지우기
```java
A &= (A - 1); // 가장 오른쪽에 켜진 비트(최소 원소)만 끔
```
> 예시:  
> A = 1010  
> A-1 = 1001  
> A & (A-1) = 1000

---

## 핵심 요약
- 비트마스크는 집합이나 상태를 이진수로 간단하게 표현/연산할 수 있는 기법
- 다양한 연산을 빠르고 간결하게 구현 가능
- 원소 추가/삭제/토글/확인/합집합/교집합/차집합 등 집합 연산을 한 줄로 처리
